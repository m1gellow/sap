/*
  # Обновление настроек доставки для управления способами доставки

  1. Изменения
    - Обновление настроек доставки для поддержки добавления/удаления способов
    - Убираем бесплатную доставку как основную опцию
    - Все способы доставки теперь платные и настраиваются индивидуально

  2. Настройки
    - Обновляем структуру настроек доставки
    - Добавляем возможность управления способами доставки
*/

-- Обновляем настройки доставки
UPDATE settings 
SET value = '{
  "deliveryMethods": [
    {"id": "cdek", "name": "СДЭК", "enabled": true, "price": 300},
    {"id": "russian_post", "name": "Почта России", "enabled": true, "price": 250},
    {"id": "yandex_taxi", "name": "Яндекс Такси", "enabled": true, "price": 400}
  ]
}'
WHERE key = 'delivery';

-- Добавляем комментарий о том, что стоимость доставки всегда добавляется к заказу
COMMENT ON TABLE settings IS 'Настройки магазина. Стоимость доставки автоматически добавляется к общей сумме заказа при оформлении.';